<!DOCTYPE html>
<html style="background-color: black; opacity: 0.65; height: 100%; width: 100%;">
<head>
    <title>Mirror</title>
</head>
<body>
<style>
    html {
        width: 100%;
        margin: 0px;
        padding: 0px;
        overflow: hidden;
    }

    video {
        max-width: 100%;
        max-height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 0;
        visibility: visible;
    }

    canvas {
        width: 100%;
        height: 100%;
        max-width: 100%;
        max-height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 1;
        visibility: hidden;
    }

    #draggableAppHandle {
        width: 100%;
        height: 100%;
        max-width: 100%;
        max-height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 3;
        -webkit-app-region: drag;
    }

    #canvasMask {
        width: 100%;
        height: 100%;
        max-width: 100%;
        max-height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 2;
        opacity: 0.65;
        visibility: hidden;
    }

    #maskDirections {
        display: block;
        position: absolute;
        width: 100%;
        top: 0;
        right: 0;
        color: black;
        text-align: center;
        font-size: small;
        background: white;
        z-index: 999;
        border: 1px solid black;
        visibility: hidden;
    }

    #exit {
        display: block;
        position: absolute;
        width: 100%;
        bottom: 0;
        right: 0;
        color: white;
        background-color: rgba(0, 0, 0, 0.5);
        text-align: center;
        text-decoration: bolder;
        font-size: small;
        z-index: 999;
        visibility: hidden;
    }

    #exit:hover {
        color: black;
        background-color: white;
    }    
</style>
<div>
    <div>
        <div id="draggableAppHandle"></div>
        <video id="camFeed"></video>
        <canvas id="canvasFeed"></canvas>
        <canvas id="canvasMask"></canvas>
        <div id="maskDirections">Draw motion detection exclusion areas</div>
        <div id="exit">Exit</div>   
    </div>
</div>
<script src="mirror_motion.js"></script>
<script>
    addEventListener("DOMContentLoaded", initialize('camFeed', 'canvasFeed', 'canvasMask'));
</script>
</body>
</html>
